#!/usr/bin/fish

function show_power_menu
    set -l menu_options "ÔÄ£ Lock" \
        "Û∞§Ñ Suspend" \
        "Û∞úâ Restart" \
        "Û∞ê• Shutdown" \
        "üöÄ Waybar restart" \
        "Û∞©à Exit session"

    # set -l selection (printf '%s\n' $menu_options | walker --dmenu)
    set -l selection (printf '%s\n' $menu_options | fuzzel --dmenu)

    switch "$selection"
        case "*Lock*"
            swaylock
        case "*Suspend*"
            systemctl suspend
        case "*Restart*"
            systemctl reboot
        case "*Shutdown*"
            systemctl poweroff
        case "*Waybar*"
            systemctl --user restart waybar.service
        case "*Exit*"
            niri msg action quit
    end
end

show_power_menu
